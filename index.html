<!DOCTYPE html>
html
<body>
    <!-- FONDO ROSA CON CORAZONES -->
    <div class="bg-love"></div>

    <!-- TARJETA PRINCIPAL -->
    <div class="love-card">
        <p class="title">Para el amor de mi vida:</p>

        <!-- Árbol en canvas -->
        <canvas id="heartTree"></canvas>

        <p class="sub">Mi amor por ti comenzó hace…</p>

        <p class="timer">
            <span id="d"></span> días  
            <span id="h"></span> horas  
            <span id="m"></span> minutos  
            <span id="s"></span> segundos
        </p>

        <div class="floor"></div>
    </div>

<style>
/* ------- FONDO ------- */
body {
    margin: 0;
    padding: 0;
    background: #d7006d;
    overflow-x: hidden;
    font-family: "Arial Rounded MT", sans-serif;
}

.bg-love {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: url("https://i.imgur.com/V14YtXx.png"); /* corazones borrosos ROSA */
    background-size: cover;
    background-position: center;
    filter: blur(3px) brightness(1.2);
    z-index: -2;
}

/* ------- TARJETA ------- */
.love-card {
    width: 90%;
    max-width: 800px;
    margin: 40px auto;
    background: #fbeee8;
    border-radius: 40px;
    padding: 30px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
}

.title {
    font-size: 1.6rem;
    margin-bottom: 15px;
    color: #4d3b3b;
}

.sub {
    margin-top: 10px;
    font-size: 1.1rem;
    color: #6d5a5a;
    font-weight: 500;
}

.timer {
    font-size: 1.6rem;
    font-weight: bold;
    margin-top: 5px;
    color: #333;
}

.floor {
    width: 100%;
    height: 2px;
    background: #4d3b3b;
    margin-top: 15px;
}

/* CANVAS */
#heartTree {
    width: 100%;
    height: 350px;
    display: block;
}
</style>

<script>
// ===============================
//       ÁRBOL EN FORMA DE CORAZÓN
// ===============================
const canvas = document.getElementById("heartTree");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = canvas.clientWidth * 2;
    canvas.height = canvas.clientHeight * 2;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

// PALLETA ROJOS Y ROSAS
const COLORS = [
    "#ff1744","#ff3d57","#ff6f71","#ff8a80","#ffadc2",
    "#ff4d4d","#ff335f","#ff5c8a","#ff7a90","#ff9999"
];

// HOJAS
let leaves = [];
function createLeaves() {
    leaves = [];
    const cx = canvas.width / 2;
    const cy = canvas.height * 0.40;

    for (let i = 0; i < 350; i++) {
        const angle = Math.random() * Math.PI * 2;
        const radius = 180 * Math.sqrt(Math.random());

        const x = cx + radius * Math.cos(angle);
        const y = cy + radius * Math.sin(angle) * 0.65;

        leaves.push({
            x, y,
            size: Math.random() * 12 + 8,
            color: COLORS[Math.floor(Math.random()*COLORS.length)],
            fall: Math.random() < 0.01 ? true : false,
            vy: Math.random() * 0.4 + 0.2,
            vx: (Math.random() - 0.5) * 0.3,
            rotate: Math.random() * Math.PI,
            vr: (Math.random()-0.5) * 0.02
        });
    }
}
createLeaves();

function drawHeart(x, y, size, rot, color) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(rot);
    ctx.scale(size, size);

    ctx.beginPath();
    ctx.moveTo(0, -2);
    ctx.bezierCurveTo(2, -4, 6, -2, 0, 4);
    ctx.bezierCurveTo(-6, -2, -2, -4, 0, -2);
    ctx.closePath();

    ctx.fillStyle = color;
    ctx.fill();
    ctx.restore();
}

function animate() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // tronco
    ctx.fillStyle = "#8f5f30";
    ctx.fillRect(canvas.width/2 - 12, canvas.height*0.40, 24, 160);

    leaves.forEach(l => {
        if (l.fall) {
            l.y += l.vy;
            l.x += l.vx;
            l.rotate += l.vr;
        } else if (Math.random() < 0.0006) {
            l.fall = true;
        }

        drawHeart(l.x, l.y, l.size * 0.1, l.rotate, l.color);
    });

    requestAnimationFrame(animate);
}
animate();

// ===============================
//          CONTADOR EN UTC
// ===============================
function startCounter(dateStr) {
    const [Y, M, D] = dateStr.split("-").map(Number);
    const start = Date.UTC(Y, M-1, D);

    function tick() {
        let diff = Date.now() - start;
        const d = Math.floor(diff / 86400000);
        diff -= d * 86400000;
        const h = Math.floor(diff / 3600000);
        diff -= h * 3600000;
        const m = Math.floor(diff / 60000);
        diff -= m * 60000;
        const s = Math.floor(diff / 1000);

        document.getElementById("d").textContent = d;
        document.getElementById("h").textContent = h;
        document.getElementById("m").textContent = m;
        document.getElementById("s").textContent = s;
    }
    tick();
    setInterval(tick, 1000);
}

startCounter("2024-12-20");
</script>
</body>
